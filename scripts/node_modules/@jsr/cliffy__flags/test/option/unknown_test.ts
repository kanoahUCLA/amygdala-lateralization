import { test } from "jsr:@cliffy/internal@1.0.0-rc.7/testing/test";
import { assertEquals } from "jsr:@std/assert@~1.0.6";
import { parseFlags } from "../../flags.ts";
import type { ParseFlagsOptions } from "../../types.ts";

const options: ParseFlagsOptions = {
  flags: [{
    name: "flag",
    aliases: ["f"],
  }],
};

test("unknown flags", () => {
  const { flags, unknown, literal } = parseFlags(
    ["-f", "foo", "-", "--", "bar"],
    options,
  );

  assertEquals(flags, { flag: true });
  assertEquals(unknown, ["foo", "-"]);
  assertEquals(literal, ["bar"]);
});
