import { test } from "jsr:@cliffy/internal@1.0.0-rc.7/testing/test";
import { assertThrows } from "jsr:@std/assert@~1.0.6";
import { Command, ValidationError } from "../../mod.ts";

test("[command] should throw error", () => {
  assertThrows(
    () =>
      new Command()
        .command("child")
        .throw(new Error("some error message")),
    Error,
    "some error message",
  );
});

test("[command] should throw validation error", () => {
  assertThrows(
    () =>
      new Command()
        .throwErrors()
        .command("child")
        .throw(new ValidationError("some error message")),
    ValidationError,
    "some error message",
  );
});
