function IOErrorToIssue(err) {
  const subcode = err.name;
  let issueMessage = undefined;
  if (err.code === 'ENOENT' || err.code === 'ELOOP') {
    issueMessage = 'Possible dangling symbolic link';
  }
  return {
    code: 'FILE_READ',
    subCode: err.name,
    issueMessage
  };
}
export async function openStream(file) {
  return file.stream().catch((err)=>{
    throw {
      location: file.path,
      ...IOErrorToIssue(err)
    };
  });
}
export async function readBytes(file, size, offset = 0) {
  return file.readBytes(size, offset).catch((err)=>{
    throw {
      location: file.path,
      ...IOErrorToIssue(err)
    };
  });
}
export async function readText(file) {
  return file.text().catch((err)=>{
    throw {
      location: file.path,
      ...IOErrorToIssue(err)
    };
  });
}
//# sourceMappingURL=access.js.map